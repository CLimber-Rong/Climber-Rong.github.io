<!--
 * @Name: 
 * @Copyright: 
 * @Author: 
 * @Date: 06/09/23 17:54
 * @Description: 
-->
<!DOCTYPE html>
<html>
    <meta charset="utf-8" />
    <title></title>

    <!-- 新 Bootstrap4 核心 CSS 文件 -->
    <link
      rel="stylesheet"
      href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>

    <!-- bootstrap.bundle.min.js 用于弹窗、提示、下拉菜单，包含了 popper.min.js -->
    <script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script>

    <!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
    <script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-expand-sm bg-light justify-content-center">
      <a class="navbar-brand" href="#">
        <img src="https://CLimber-Rong.github.io/image/icon.png" alt="logo" style="width: 40px" />
      </a>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="https://CLimber-Rong.github.io/index.html">首页</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://CLimber-Rong.github.io/about.html">关于</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://CLimber-Rong.github.io/doc.html">文档</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://CLimber-Rong.github.io/project.html">项目</a>
        </li>
      </ul>
    </nav>
    <br>

<h1 id="2023-08-25-">2023/08/25 工作日志</h1>
<h3 id="1-">1. 提交了一些漏洞修复</h3>
<ol>
<li>修改了AnonClass节点（这些漏洞比较难解释，你可以通过对比源码来了解我更改了哪些地方）</li>
<li>修复了部分依赖库（ArrayList.hpp和Stack.hpp）</li>
<li>修复了AST代码，在原本的AST代码当中，将子节点的存储方式从值存储变成指针存储（详见src/ast下的源码）</li>
<li>修复了文档的一些病句（详细请对比20230812.md）</li>
</ol>
<h3 id="2-">2. 更新了依赖库</h3>
<p>我添加了NumberMap，它和StringMap相似，是一个以整数为键的Map。
<br>
如果你要了解NumberMap的用法或实现，请阅读NumberMap.hpp。
<br>
当然，目前的NumberMap仍然是临时的，我会在后续做出改动。
<br><br>
此外，我也稍加改动了其他依赖库，让它在后续更容易改动</p>
<h3 id="3-">3. 数据类型定义的代码已经全部完工</h3>
<p>代码位于src/data_type。
<br>
如果你想要直接<strong>引用</strong>所有数据类型定义，请直接引用DataType.hpp。<br>
注意，所有的数据类型定义都存放在stamon::datatype这个命名空间里，所以如果你要<strong>使用</strong>数据类型定义，可以写以下代码</p>
<pre><code class="lang-C++">#include&quot;DataType.hpp&quot;   //引用DataType.hpp
using namespace stamon::datatype;    //引用数据类型定义的命名空间
</code></pre>
<h3 id="4-">4. 数据类型定义的设计</h3>
<p>数据类型定义的设计比Ast节点的设计要简单得多（详见20230812.md）：
<br>
有一个基类DataType，所有的具体数据类型都需要继承DataType。
<br>
<br>
接下来我们来简单介绍一下目录结构。
<br></p>
<pre><code class="lang-C++">data_type
|-DataType.hpp  //在这里存放基类的定义
|-NullType.hpp  //空值数据类型定义
|-NumberType.hpp    //数字数据类型定义，具体定义了整数、单精度浮点数、双精度浮点数
|-StringType.hpp    //字符串数据类型定义
|-SequenceType.cpp  //数列数据类型定义
|-MethodType.cpp    //方法数据类型定义
|-ClassType.cpp     //类数据类型定义
|-ObjectType.cpp    //类对象数据类型定义
</code></pre>
<p><br>
如果你想要阅读数据类型定义的源码，建议按照以下顺序阅读</p>
<ol>
<li>DataType.hpp</li>
<li>NullType.hpp</li>
<li>NumberType.hpp</li>
<li>StringType.hpp</li>
<li>SequenceType.cpp</li>
<li>MethodType.cpp</li>
<li>ClassType.cpp</li>
<li>ObjectType.cpp</li>
</ol>
<h3 id="5-">5. 接下来要做的事</h3>
<ol>
<li>完成STVM的内部数据结构</li>
<li>对代码进行测试</li>
</ol>
<h3 id="6-">6. 后记</h3>
<p>本次提交的内容其实不算复杂，但是因为数据类型定义的设计会影响到后面的很多架构，所以我需要谨慎思考。
<br><br>
本次提交还着重更改了依赖库，事实上，依赖库的设计也是让我比较头疼的。
<br><br>
本次提交的数据类型定义可能注释并不全面，我将会在后续继续提交注释。
<br><br>
<del>这种简单的代码还需要写注释</del>
<br><br>
值得注意的是，从项目第一次提交到现在，我没有对代码进行过一次调试，接下来我会对我写过的代码进行简单的调试。</p>
  </body>
</html>
